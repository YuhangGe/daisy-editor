Daisy={Lexer:{},Theme:{},$:function(a){return document.getElementById(a)}},function(a,b){a._Editor=function(c){var d=c?c:{},e=d.language?d.language:"general",f=d.theme?d.theme:"general",g=d.width?d.width:120,h=d.height?d.height:100;this.SCROLL_STEP=15,this.SCROLL_WIDTH=21,this.PADDING_RIGHT=10,this.width=g,this.canvas_width=g-this.SCROLL_WIDTH,this.height=h,this.canvas_height=h-this.SCROLL_WIDTH,this.read_only=!1,this.caret_position=null,this.focused=!1,this.scroll_top=0,this.scroll_left=0,this.clipboard=a.Clipboard.getInstance(),this.canvas=b("d-canvas"),this.ctx=this.canvas.getContext("2d"),this.container=b("d-editor"),this.client=b("d-client"),this.caret=b("d-caret"),this.right_scroll=b("d-rightscroll"),this.right_scroll_body=b("d-rightscroll-body"),this.bottom_scroll=b("d-bottomscroll"),this.bottom_scroll_body=b("d-bottomscroll-body"),this.theme_name=f.toLowerCase(),this.theme=null,this.palette=null,this._loadTheme(this.theme_name),this.docs=[],this.cur_doc=null,this.lexer=new a._LexerManager(this),this.render=new a._Render(this),this._setDomSize(),this.caret.style.height=this.theme.font_height+"px",this.caret.style.font=this.theme.font,this.caret.style.color=this.theme.caret_color,this.right_scroll.style.background=this.theme.background,this.bottom_scroll.style.background=this.theme.background,this.lang_name=e.toLowerCase(),this.initEvent(),this.createDocument({language:"javascript"}),this.setActiveDocument(0),this.caret.focus()},a._Editor.prototype={_loadTheme:function(c){var d=a.Theme[c];if(d==null)throw"not found theme "+c;this.theme={},this.theme.font=d.global.font,this.theme.color=d.global.color,this.theme.background=d.global.background,this.theme.select_bg=d.selection.background,this.theme.cur_line_bg=d.current_line.background,this.theme.caret_color=d.caret.color,this.theme.font_height=b.getFontHeight(this.theme.font),this.theme.palettes={};for(var e in d.styles){var f={keys:[],values:[]},g=1,h=d.styles[e];for(var i in h){var j=h[i];j.font=(j.bold?"bold ":"")+(j.italic?"italic ":"")+(j.font!=null?j.font:this.theme.font),j.color=j.color==null?this.theme.color:j.color,i==="global"?(f.keys.global=0,f.values[0]=j):(f.keys[i]=g,f.values[g]=j,g++)}f.keys.global==null&&(f.keys.global=0,f.values[0]={color:this.theme.color,font:this.theme.font}),this.theme.palettes[e]=f}},_setLanguage:function(a){if(this.lang_name===a)return;this.lang_name=a,this.palette=this.theme.palettes[a],this.render.resetTheme(),this.lexer.resetLexer()},createDocument:function(b){return this.docs.push(new a._Document(this,b)),this.docs.length-1},setActiveDocument:function(a){if(a<0||a>=this.docs.length)throw"bad index of document";var b=this.docs[a];if(b===this.cur_doc)return;this.cur_doc!==null&&(this.cur_doc.saved_info.caret=this.caret_position,this.cur_doc.saved_info.scroll={left:this.scroll_left,top:this.scroll_top},this.cur_doc.saved_info.language=this.lang_name),this.cur_doc=b,this.render.resetDoc(),this._setLanguage(this.cur_doc.saved_info.language),this.caret_position=this.cur_doc.saved_info.caret,this._setScroll(this.cur_doc.saved_info.scroll.left,this.cur_doc.saved_info.scroll.top),this.setFocus(!0),this.render.paint()},_getEventPoint:function(a){var b=0,c=0;return typeof a.offsetX!="undefined"?(b=a.offsetX,c=a.offsetY):typeof a.layerX!="undefined"&&(b=a.layerX,c=a.layerY),{x:b+this.scroll_left-this.render.left_page_offset,y:c+this.scroll_top-this.render.top_page_offset}},_getEventPoint_chrome:function(a){var b=a.x,c=a.y;return b-=this.container.offsetLeft+document.body.scrollLeft,c-=this.container.offsetTop+document.body.scrollTop,{x:b+this.scroll_left,y:c+this.scroll_top}},setFontName:function(a){this.font_name=a,this.setFont(this.font_size+"px "+a)},setFontSize:function(a){this.font_size=a,this.setFont(a+"px "+this.font_name)},setFont:function(a){this.theme.font=a},_setDomSize:function(){this.container.style.width=this.width+"px",this.container.style.height=this.height+"px";var a=this.canvas_width,b=this.canvas_height;this.right_scroll.style.left=a+"px",this.right_scroll.style.height=b+"px",this.right_scroll.style.width=this.SCROLL_WIDTH+"px",this.bottom_scroll.style.width=a+"px",this.bottom_scroll.style.top=b+"px",this.bottom_scroll.style.height=this.SCROLL_WIDTH+"px",this.right_scroll.scrollTop=0,this.bottom_scroll.scrollLeft=0,this.client.style.width=this.canvas_width+"px",this.client.style.height=this.canvas_height+"px",this.canvas.width=this.render.buffer_width,this.canvas.height=this.render.buffer_height},resize:function(a){},_setCaret:function(a){this.caret_position=a,this._resetCaret()},_resetCaret:function(){this.caret.style.left=this.caret_position.left-this.scroll_left+"px",this.caret.style.top=this.caret_position.top-this.scroll_top+"px"},_moveCaret_xy:function(a,b){this._setCaret(this.cur_doc._getCaret_xy(a,b))},_moveCaret_lc:function(a,b){this._setCaret(this.cur_doc._getCaret_lc(a,b))},copy:function(a){this.cur_doc.select_mode&&this.clipboard.setText(a,this.cur_doc.getSelectText())},cut:function(a){if(this.cur_doc.select_mode){this.clipboard.setText(a,this.cur_doc.getSelectText());var b=this.cur_doc.del(this.caret_position);this._moveCaret_lc(b.line,b.colum),this.render.paint()}},paste:function(a){var c=this.clipboard.getText(a);return c==null||c==""?b.firefox?!1:!0:(this.insertText(c),!0)},scrollLeft:function(a){if(!a instanceof Number||a<0)a=0;a>this.render.max_scroll_left&&(a=this.render.max_scroll_left);if(a===this.scroll_left)return;this._doScrollLeft(a)},_doScrollLeft:function(a){this.scroll_left=a,this.render.scrollLeft(this.scroll_left),this._resetCaret(),this.bottom_scroll.scrollLeft=a,this.canvas.style.left=-this.render.left_page_offset+"px"},scrollTop:function(a){if(!a instanceof Number||a<0)a=0;a>this.render.max_scroll_top&&(a=this.render.max_scroll_top);if(a===this.scroll_top)return;this._doScrollTop(a)},_doScrollTop:function(a){this.scroll_top=a,this.render.scrollTop(this.scroll_top),this._resetCaret(),this.right_scroll.scrollTop=a,this.canvas.style.top=-this.render.top_page_offset+"px"},_setScroll:function(a,b){this.scroll_left=a,this.scroll_top=b,this.render.scrollLeft(this.scroll_left),this.render.scrollTop(this.scroll_top),this.canvas.style.left=-this.render.left_page_offset+"px",this.canvas.style.top=-this.render.top_page_offset+"px",this._resetCaret()},setFocus:function(a){a===!0?(this.focused=!0,this.caret.focus()):(this.focused=!1,this.caret.blur())},moveCaret:function(a){var b=this.caret_position;switch(a){case"left":this.cur_doc.select_mode&&b.index!==this.cur_doc.select_range.from.index?this._setCaret(this.cur_doc.select_range.from):this.leftCaret(b);break;case"right":this.cur_doc.select_mode&&b.index!==this.cur_doc.select_range.to.index?this._setCaret(this.cur_doc.select_range.to):this.rightCaret(b);break;case"up":this.upCaret(b);break;case"down":this.downCaret(b)}this.cur_doc.select_mode=!1,this.adjustScroll(),this.render.paint()},adjustScroll:function(){var a=this.scroll_top-this.caret_position.top,b=0;a>0?this._doScrollTop(this.scroll_top-a):(b=this.theme.font_height-this.render.height-a)>0&&this._doScrollTop(this.scroll_top+b);var c=this.scroll_left-this.caret_position.left,d=0;c>0?this.scrollLeft(this.scroll_left-c-100):(d=-this.render.width-c)>0&&this.scrollLeft(this.scroll_left+d+100)},leftCaret:function(a){a.colum===-1?a.line>0&&this._moveCaret_lc(a.line-1):this._moveCaret_lc(a.line,a.colum-1)},rightCaret:function(a){a.colum===this.cur_doc.line_info[a.line].length-1?a.line<this.cur_doc.line_number-1&&this._moveCaret_lc(a.line+1,-1):this._moveCaret_lc(a.line,a.colum+1)},downCaret:function(a){a.line<this.cur_doc.line_number-1&&this._moveCaret_xy(a.left,a.top+this.render.line_height)},upCaret:function(a){a.line>0&&this._moveCaret_xy(a.left,a.top-this.render.line_height)},insertText:function(a){var b=this.cur_doc.insert(a,this.caret_position);this._moveCaret_lc(b.line,b.colum),this.adjustScroll(),this.render.paint()},appendText:function(a){this.cur_doc.append(a),this.render.paint()},_delOrBack:function(a){var b=null;a?b=this.cur_doc.del(this.caret_position):b=this.cur_doc.backspace(this.caret_position),this._moveCaret_lc(b.line,b.colum),this.adjustScroll(),this.render.paint()},focus:function(){this.caret.focus()}},a.createEditor=function(a,b){},a.insertEditor=function(a,b){};var c=navigator.userAgent.toLowerCase(),d;(d=c.match(/msie ([\d.]+)/))?b.ie=d[1]:(d=c.match(/firefox\/([\d.]+)/))?b.firefox=d[1]:(d=c.match(/chrome\/([\d.]+)/))?b.chrome=d[1]:(d=c.match(/opera.([\d.]+)/))?b.opera=d[1]:(d=c.match(/version\/([\d.]+).*safari/))?b.safari=d[1]:0,b.sprintf=function(){var a=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuidfegEG])/g,b=arguments,c=0,d=b[c++],e=function(a,b,c,d){c||(c=" ");var e=a.length>=b?"":Array(1+b-a.length>>>0).join(c);return d?a+e:e+a},f=function(a,b,c,d,f,g){var h=d-a.length;return h>0&&(c||!f?a=e(a,d,g,c):a=a.slice(0,b.length)+e("",h,"0",!0)+a.slice(b.length)),a},g=function(a,b,c,d,g,h,i){var j=a>>>0;return c=c&&j&&{2:"0b",8:"0",16:"0x"}[b]||"",a=c+e(j.toString(b),h||0,"0",!1),f(a,c,d,g,i)},h=function(a,b,c,d,e,g){return d!=null&&(a=a.slice(0,d)),f(a,"",b,c,e,g)},i=function(a,d,i,j,k,l,m){var n,o,p,q,r;if(a=="%%")return"%";var s=!1,t="",u=!1,v=!1,w=" ",x=i.length;for(var y=0;i&&y<x;y++)switch(i.charAt(y)){case" ":t=" ";break;case"+":t="+";break;case"-":s=!0;break;case"'":w=i.charAt(y+1);break;case"0":u=!0;break;case"#":v=!0}j?j=="*"?j=+b[c++]:j.charAt(0)=="*"?j=+b[j.slice(1,-1)]:j=+j:j=0,j<0&&(j=-j,s=!0);if(!isFinite(j))throw new Error("sprintf: (minimum-)width must be finite");l?l=="*"?l=+b[c++]:l.charAt(0)=="*"?l=+b[l.slice(1,-1)]:l=+l:l="fFeE".indexOf(m)>-1?6:m=="d"?0:undefined,r=d?b[d.slice(0,-1)]:b[c++];switch(m){case"s":return h(String(r),s,j,l,u,w);case"c":return h(String.fromCharCode(+r),s,j,l,u);case"b":return g(r,2,v,s,j,l,u);case"o":return g(r,8,v,s,j,l,u);case"x":return g(r,16,v,s,j,l,u);case"X":return g(r,16,v,s,j,l,u).toUpperCase();case"u":return g(r,10,v,s,j,l,u);case"i":case"d":return n=+r|0,o=n<0?"-":t,r=o+e(String(Math.abs(n)),l,"0",!1),f(r,o,s,j,u);case"e":case"E":case"f":case"F":case"g":case"G":return n=+r,o=n<0?"-":t,p=["toExponential","toFixed","toPrecision"]["efg".indexOf(m.toLowerCase())],q=["toString","toUpperCase"]["eEfFgG".indexOf(m)%2],r=o+Math.abs(n)[p](l),f(r,o,s,j,u)[q]();default:return a}};return d.replace(a,i)},b.log=function(a,c,d){if(typeof console=="undefined")return;arguments.length===1?console.log(a):console.log(b.sprintf.apply(this,arguments))},b.addEvent=function(a,c,d){typeof a=="string"&&(a=b(a)),window.addEventListener?a.addEventListener(c,d):a.attachEvent("on"+c,d)},b.delEvent=function(a,c,d){typeof a=="string"&&(a=b(a)),window.removeEventListener?a.removeEventListener(c,d):a.detachEvent("on"+c,handeler)},b.createDelegate=function(a,c){return function(){try{c.apply(a,arguments)}catch(d){console.trace(),b.log(d)}}},b.stopEvent=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},b.addWheelEvent=function(a,c){typeof a=="string"&&(a=b(a)),window.addEventListener?b.firefox?a.addEventListener("DOMMouseScroll",c):a.addEventListener("mousewheel",c):a.attachEvent("onmousewheel",c)},b.getFontHeight=function(a){var b=document.createElement("span"),c=0;return b.style.font=a,b.style.margin="0px",b.style.padding="0px",b.style.visibility="hidden",b.innerHTML="Abraham 04-02.I Love Daisy.南京大学",document.body.appendChild(b),c=b.offsetHeight,document.body.removeChild(b),c},b.extend=function(a,b){for(var c in b){if(a[c]!=null)throw"extend error!";a[c]=b[c]}},a._Document=function(b,c){this.editor=b,c==null||typeof c.name!="string"?this.name="__daisy_doc_"+a._Document.__name_id__++ +"__":this.name=c.name,c==null||typeof c.language!="string"?this.language="general":this.language=c.language,this.text_array=[],this.style_array=[],this.line_number=1,this.line_info=[{start:-1,length:0,width:0,check_width:!1}],this.max_width_line=this.line_info[0],this.text="",this.select_range={from:null,to:null},this.select_mode=!1,this.saved_info={caret:{line:0,colum:-1,left:0,top:0,index:-1},scroll:{left:0,top:0},language:this.language}},a._Document.CHAR_TYPE={SPACE:0,WORD:1,INVISIBLE:3,ASCII:4,UNICODE:5},a._Document.__name_id__=0,a._Document.prototype={setRangeStyle:function(a,b,c){var d=this.editor.palette.keys[c];d==null&&(d=0);for(var e=a;e<a+b;e++)this.style_array[e]=d},insert:function(a,b){a=a.replace(/[\x00-\x08\x0b-\x1f]/g,"").replace(/\t/g,"    ");var c=[],d=0,e=0;this.select_mode&&(d=this._deleteSelect(),b=this.select_range.from),c.push(b.line);for(var f=0;f<a.length;f++)this.text_array.splice(b.index+1+f,0,a[f]),this.style_array.splice(b.index+1+f,0,0);var g,h,i=b.line,j=a.split("\n"),k=this.line_info[i];for(var f=i+1;f<this.line_number;f++)this.line_info[f].start+=a.length;if(j.length===1)k.length+=j[0].length,k.check_width=!0,g=i,h=b.colum+j[0].length;else{var l=k.length-b.colum-1;k.length=b.colum+1+j[0].length,k.check_width=!0;for(var f=1;f<j.length;f++)k={start:k.start+k.length+1,length:j[f].length,width:0,check_width:!0},f===j.length-1&&(k.length+=l),this.line_info.splice(i+f,0,k),c.push(i+f);this.line_number+=j.length-1,e=j.length-1,g=i+e,h=j[j.length-1].length-1}return e!==d&&this.editor.render.resetRenderHeight(),this.editor.render.resetRegion(),this._doLex(c),{line:g,colum:h}},append:function(a){a=a.replace(/[\x00-\x08\x0b-\x1f]/g,"").replace(/\t/g,"    ");var b=this.line_info[this.line_number-1],c=a.split("\n"),d=c[0],e=c.length>1,f=this.max_width_line.width,g=this.text_array.length;for(var h=0;h<a.length;h++)this.text_array.push(a[h]),this.style_array.push(0);b.length+=d.length,b.check_width=!0;var i=[this.line_number-1];g+=d.length;for(var h=1;h<c.length;h++)g++,d=c[h],g+=d.length,b={start:b.start+b.length+1,length:d.length,width:0,check_width:!0},this.line_info.push(b),i.push(this.line_number),this.line_number++;this._doLex(i),c.length>1&&this.editor.render.resetRenderHeight(),this.editor.render.resetRegion()},_deleteChar:function(a,b){var c=this.line_info[a],d=c.start+b+1,e=!1;for(var f=a+1;f<this.line_number;f++)this.line_info[f].start--;var g=a,h=b-1;if(b<0){var i=this.line_info[a-1],j=i.width+c.width;g--,h=i.length-1,i.check_width=!0,i.length+=c.length,this.line_info.splice(a,1),this.line_number--}else c.length--,c.check_width=!0;return b<0&&this.editor.render.resetRenderHeight(),this.editor.render.resetRegion(),this.text_array.splice(d,1),this.style_array.splice(d,1),this._doLex([g]),{line:g,colum:h}},_deleteSelect:function(){var a=this.select_range.from,b=this.select_range.to,c=a.line,d=b.line,e=a.colum,f=b.colum,g=b.index-a.index;this.text_array.splice(a.index+1,g),this.style_array.splice(a.index+1,g);for(var h=b.line+1;h<this.line_number;h++)this.line_info[h].start-=g;this.line_info[c].width=0,this.line_info[c].check_width=!0;for(var h=c;h<=d;h++)if(this.line_info[h]===this.max_width_line){this.max_width_line=this.line_info[c];break}return c===d?this.line_info[c].length-=g:(this.line_info[c].length=e+this.line_info[d].length-f,this.line_info.splice(c+1,d-c),this.line_number-=d-c),this.select_mode=!1,d-c},del:function(a){return this.select_mode?(this._deleteSelect()>0&&this.editor.render.resetRenderHeight(),this.editor.render.resetRegion(),this._doLex([this.select_range.from.line]),{line:this.select_range.from.line,colum:this.select_range.from.colum}):a.index===this.text_array.length-1?{line:a.line,colum:a.colum}:a.colum<this.line_info[a.line].length-1?this._deleteChar(a.line,a.colum+1):this._deleteChar(a.line+1,-1)},backspace:function(a){return this.select_mode?(this._deleteSelect()>0&&this.editor.render.resetRenderHeight(),this.editor.render.resetRegion(),this._doLex([this.select_range.from.line]),{line:this.select_range.from.line,colum:this.select_range.from.colum}):a.index===-1?{line:0,colum:-1}:this._deleteChar(a.line,a.colum)},_getCaret_xy:function(a,b){var c=this.editor.render.line_height,d=Math.floor(b/c),d=d>this.line_number-1?this.line_number-1:d<0?0:d,e=this.line_info[d],f=0,g=d*c,h=-1,i=e.start;if(e.length>0){var j=e.start+1,k=j+e.length;for(;j<k;j++){var l=this.editor.render.getTextWidth_2(this.text_array[j],j);if(f+l/2>a)break;f+=l}i=j-1,h=i-e.start-1}return{line:d,colum:h,index:i,left:f,top:g}},_getCaret_lc:function(a,b){var c=this.line_info[a],b=b===undefined?c.length:b+1,d=this.text_array.slice(c.start+1,c.start+1+b).join(""),e=this.editor.render.getTextWidth_2(d,c.start+1);return{line:a,colum:b-1,index:c.start+b,left:e,top:a*this.editor.render.line_height}},select:function(a,b){if(a===null){this.select_mode=!1;return}this.select_range.from=a,this.select_range.to=b,this.select_mode=!0},selectAll:function(){return this.selectByIndex(-1,this.text_array.length-1)},getSelectText:function(){if(!this.select_mode)return"";var a=this.select_range.from,b=this.select_range.to;return this.text_array.slice(a.index+1,b.index+1).join("")},_findMaxWidthLine:function(){var a=0,b=this.line_info[a];for(a++;a<this.line_info.length;a++)b.width<this.line_info[a].width&&(b=this.line_info[a]);this.max_width_line=b},_doLex:function(a){this.editor.lexer.lex(a)},selectWord:function(a,b){var c=this.editor.caret_position,d=this.line_info[c.line];if(d.length===0)return;var e=this._getCharIndex(a,b),f=this.text_array[e];f==="\n"&&(e--,f=this.text_array[e]);var g=this._getCharType(f),h=e-1,i=e+1,j=this.text_array.length-1;while(h>=0&&this._getCharType(this.text_array[h])===g)h--;while(i<=j&&this._getCharType(this.text_array[i])===g)i++;return this.selectByIndex(h,i-1)},selectByIndex:function(a,b){var c=this.getCaretByIndex(a),d=this.getCaretByIndex(b);return this.select_mode=!0,this.select_range.from=c,this.select_range.to=d,c},getCaretByIndex:function(a){if(a===-1)return{line:0,colum:-1,index:-1,left:0,top:0};for(var b=0;b<this.line_number;b++){var c=this.line_info[b];if(c.start+c.length>=a)return this._getCaret_lc(b,a-c.start-1)}},_getCharIndex:function(a,b){var c=Math.floor(b/this.editor.render.line_height),c=c>this.line_number-1?this.line_number-1:c,d=this.line_info[c],e=0,f=d.start;if(d.length>0){f=d.start+1;var g=f+d.length;for(;f<g;f++){e+=this.editor.render.getTextWidth_2(this.text_array[f],f);if(e>=a)break}}return f},_getCharType:function(b){return/[0-9a-zA-Z_]/.test(b)?a._Document.CHAR_TYPE.WORD:b===" "||b==="	"?a._Document.CHAR_TYPE.SPACE:b<"ÿ"?a._Document.CHAR_TYPE.ASCII:a._Document.CHAR_TYPE.UNICODE}},a._Render=function(a){this.editor=a,this.ctx=a.ctx,this.theme=null,this.doc=null,this.styles=null,this.lexer=a.lexer,this.width=a.canvas_width,this.height=a.canvas_height,this.content_width=0,this.content_height=0,this.max_scroll_left=0,this.max_scroll_top=0,this.line_height=0,this.page_width=this.width/2,this.page_height=this.height/2,this.buffer_width=this.page_width*3,this.buffer_height=this.page_height*3,this.left_page_size=0,this.left_page_offset=0,this.top_page_size=0,this.top_page_offset=0,this.line_height=0,this.region={left:0,top:0,right:this.buffer_width,bottom:this.buffer_height,width:this.buffer_width,height:this.buffer_height,start_line:-1,end_line:-1}},a._Render.prototype={resetTheme:function(){this.theme=this.editor.theme,this.ctx.font=this.theme.font,this.styles=this.editor.palette.values,this.line_height=this.theme.font_height},resetDoc:function(){this.doc=this.editor.cur_doc,this.resetRegion(),this.resetRenderWidth(),this.resetRenderHeight()},getCharWidth:function(a,b){var c=this.styles[this.doc.style_array[b]].bold;return this.ctx.font=(c?"Bold ":"")+this.theme.font,this.ctx.measureText(a).width},getTextWidth_2:function(a,c){if(a.length===0)return 0;var d=0,e=0,f=0,g=!1,h=a.length,i=this.doc.style_array[c];try{g=this.styles[i].bold}catch(j){throw b.log(j),j}f=1;var k=1;while(k<h)i=this.doc.style_array[k+c],this.styles[i].bold==g?f++:(d+=this._getTextWidth(a.substr(e,f),g),g=this.styles[i].bold,f=1,e=k),k++;return d+=this._getTextWidth(a.substr(e,f),g),d},_getTextWidth:function(a,b){return this.ctx.font=(b?"Bold ":"")+this.theme.font,this.ctx.measureText(a).width},resetRegion:function(){var a=this.doc.line_info,b=this.doc.line_number,c=Math.floor(this.region.top/this.line_height),d=Math.floor(this.region.bottom/this.line_height),c=b>c?c:b,d=b>d?d:b-1;this.region.start_line=c,this.region.end_line=d},resetRenderWidth:function(){var a=this.doc.max_width_line.width+this.editor.PADDING_RIGHT;this.content_width=a>this.width?a:this.width,this.max_scroll_left=this.content_width-this.width,this.editor.bottom_scroll_body.style.width=a+"px"},resetRenderHeight:function(){var a=this.doc.line_number*this.line_height;this.content_height=a>this.height?a:this.height,this.max_scroll_top=this.content_height-this.height,this.editor.right_scroll_body.style.height=a+"px"},_paintSelect:function(a){var b=a.from,c=a.to,d=this.doc.line_info,e,f,g,h;b.line<this.region.start_line?(e=this.region.start_line,f=-1):(e=b.line,f=b.colum),c.line>this.region.end_line?(g=this.region.end_line,h=d[g].length):(g=c.line,h=c.colum),this.ctx.fillStyle=this.theme.select_bg;if(e===g)this._paintSelectLine(e,f,h,!1);else{this._paintSelectLine(e,f,null,!0);for(var i=e+1;i<g;i++)this._paintSelectLine(i,null,null,!0);this._paintSelectLine(g,null,h,!1)}},_paintSelectLine:function(a,b,c,d){var e=this.doc.line_info[a],f=this.doc.text_array,b=b==null?-1:b,c=c==null?e.length-1:c,g=e.start+b+1,h=e.start+c+1,i=b<0?0:this.getTextWidth_2(f.slice(e.start+1,g+1).join(""),e.start+1),j=c===e.length-1?e.width-i:this.getTextWidth_2(f.slice(g+1,h+1).join(""),g);j+=d?10:0,this.ctx.fillRect(i-this.region.left,a*this.line_height-this.region.top,j,this.line_height)},_paintCurrentLine:function(){var a=this.editor.caret_position.line;a>=this.region.start_line&&a<=this.region.end_line&&(this.ctx.fillStyle=this.theme.cur_line_bg,this.ctx.fillRect(0,a*this.line_height-this.region.top,this.buffer_width,this.line_height))},_check_width:function(){var a=!1,b=this.doc.max_width_line;for(var c=this.region.start_line;c<this.region.end_line+1;c++){var d=this.doc.line_info[c];if(d.check_width){var e=this.getTextWidth_2(this.doc.text_array.slice(d.start+1,d.start+1+d.length).join(""),d.start+1);if((d.width=e)>b.width||d===b)a=!0;d.check_width=!1}}a&&(this.doc._findMaxWidthLine(),this.resetRenderWidth())},paint:function(){var a=(new Date).getTime();this._check_width(),this.ctx.font=this.theme.font,this.ctx.textAlign="start",this.ctx.textBaseline="bottom",this.ctx.fillStyle=this.theme.background,this.ctx.fillRect(0,0,this.buffer_width,this.buffer_height),this._paintCurrentLine(),this.doc.select_mode&&this._paintSelect(this.doc.select_range);var b=this.region.start_line,c=-this.region.left,d=this.line_height+b*this.line_height-this.region.top,e=this.doc.text_array,f=this.doc.style_array;a:for(var g=this.region.start_line;g<=this.region.end_line;g++){var h=this.doc.line_info[g],i=h.start+1,j=i+h.length;if(h.length===0){d+=this.line_height;continue}var k=i,l=f[i];i++;while(i<j){if(f[i]!==l){this.ctx.font=this.styles[l].font;var m=e.slice(k,i).join(""),n=this.ctx.measureText(m).width;c+n>0&&(this.ctx.fillStyle=this.styles[l].color,this.ctx.fillText(m,c,d)),k=i,l=f[i],c+=n;if(c>this.region.width){d+=this.line_height,c=-this.region.left;continue a}}i++}this.ctx.font=this.styles[l].font,this.ctx.fillStyle=this.styles[l].color;var m=e.slice(k,i).join("");this.ctx.fillText(m,c,d),d+=this.line_height,c=-this.region.left}},scrollLeft:function(a){var b=Math.floor(a/this.page_width);this.left_page_offset=a-b*this.page_width,b!==this.left_page_size&&(this.left_page_size=b,this.region.left=b*this.page_width,this.region.right=this.region.left+this.buffer_width,this.paint())},scrollTop:function(a){var b=Math.floor(a/this.page_height);this.top_page_offset=a%this.page_height,b!==this.top_page_size&&(this.top_page_size=b,this.region.top=b*this.page_height,this.region.bottom=this.region.top+this.buffer_height,this.resetRegion(),this.paint())}},b.extend(a._Editor.prototype,{_focus_handler:function(a){this.focused=!0,this.caret.focus()},_blur_handler:function(a){a.explicitOriginalTarget!==this.canvas&&(this.focused=!1)},_mousedown_handler:function(a){this.cur_doc.select(null);var b=this._getEventPoint(a);this._moveCaret_xy(b.x,b.y),this.__mouse_down__=!0,this.__pre_pos__=this.caret_position,this.__down_pos__=this.caret_position,this.canvas.setCapture&&this.canvas.setCapture(!0)},_mouseup_handler:function(a){this.__mouse_down__=!1,this.render.paint(),this.canvas.releaseCapture&&this.canvas.releaseCapture()},_mousemove_handler_deal:function(a){a:if(a.line!==this.__pre_pos__.line||a.colum!==this.__pre_pos__.colum){this._setCaret(a),this.setFocus(!0);var b=this.__down_pos__,c=a;if(b.line===c.line&&b.colum===c.colum&&this.select_mode===!0){this.cur_doc.select(null);break a}if(b.line>c.line||b.line===c.line&&b.colum>c.colum)b=a,c=this.__down_pos__;this.cur_doc.select(b,c),this.render.paint(),this.__pre_pos__=a}var d=this.cur_doc.line_info[a.line];d.width<this.scroll_left&&this.scrollLeft(d.width-45),this.adjustScroll()},_mousemove_handler:function(a){if(!this.__mouse_down__)return;var c=this._getEventPoint(a),d=this.cur_doc._getCaret_xy(c.x,c.y);this._mousemove_handler_deal(d),b.stopEvent(a)},_chrome_mousemove_handler:function(a){if(!this.__mouse_down__)return;var c=this._getEventPoint_chrome(a),d=this.cur_doc._getCaret_xy(c.x,c.y);this._mousemove_handler_deal(d),b.stopEvent(a)},_chrome_mouseup_handler:function(a){this.__mouse_down__=!1,this.render.paint(),b.delEvent(document.body,"mousemove",this.__cmv_handler),b.delEvent(document.body,"mouseup",this.__cmu_handler)},_chrome_mousedown_handler:function(a){this._mousedown_handler(a),b.addEvent(document.body,"mousemove",this.__cmv_handler),b.addEvent(document.body,"mouseup",this.__cmu_handler)},_keydown_handler:function(a){switch(a.keyCode){case 13:this.insertText("\n"),b.stopEvent(a);break;case 8:this._delOrBack(!1);break;case 9:this.insertText("    "),b.stopEvent(a);break;case 46:this._delOrBack(!0);break;case 37:this.moveCaret("left");break;case 39:this.moveCaret("right");break;case 38:this.moveCaret("up");break;case 40:this.moveCaret("down");break;case 65:a.ctrlKey&&(this._setCaret(this.cur_doc.selectAll()),this.render.paint(),b.stopEvent(a));break;case 67:a.ctrlKey&&(b.ie||b.firefox)&&(this.copy(),b.stopEvent(a));break;case 88:a.ctrlKey&&(b.ie||b.firefox)&&(this.cut(),b.stopEvent(a))}},_input_handler:function(a){this.caret.value!==""&&(this.insertText(this.caret.value),this.caret.value=""),b.stopEvent(a)},_wheel_handler:function(a){var c=0;a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail);if(c>0&&this.scroll_top===0||c<0&&this.scroll_top===this.render.max_scroll_top)return;this.scrollTop(this.scroll_top-c*10),b.stopEvent(a)},_right_scroll_handler:function(a){this.right_scroll.scrollTop!==this.scroll_top&&this._doScrollTop(this.right_scroll.scrollTop)},_bottom_scroll_handler:function(a){this.bottom_scroll.scrollLeft!==this.scroll_left&&this._doScrollLeft(this.bottom_scroll.scrollLeft)},_copy_handler:function(a){this.copy(a),b.stopEvent(a)},_cut_handler:function(a){this.cut(a),b.stopEvent(a)},_paste_handler:function(a){this.paste(a)&&b.stopEvent(a)},_caret_dblclick_handler:function(a){this.__mouse_down__=!1;var b=this._getEventPoint(a);this._setCaret(this.cur_doc.selectWord(this.offsetLeft+b.x,this.offsetTop+b.y)),this.render.paint()},_canvas_dblclick_handler:function(a){this.__mouse_down__=!1;var b=this._getEventPoint(a);this._setCaret(this.cur_doc.selectWord(b.x,b.y)),this.render.paint()},initEvent:function(){var a=this;this.__mouse_down__=!1,this.__pre_pos__=null,this.canvas.setCapture?(b.addEvent(this.canvas,"mousedown",b.createDelegate(this,this._mousedown_handler)),b.addEvent(this.canvas,"mouseup",b.createDelegate(this,this._mouseup_handler)),b.addEvent(this.canvas,"mousemove",b.createDelegate(this,this._mousemove_handler))):(this.__cmv_handler=b.createDelegate(this,this._chrome_mousemove_handler),this.__cmu_handler=b.createDelegate(this,this._chrome_mouseup_handler),b.addEvent(this.canvas,"mousedown",b.createDelegate(this,this._chrome_mousedown_handler))),b.addEvent(this.canvas,"dblclick",b.createDelegate(this,this._canvas_dblclick_handler)),b.addEvent(this.caret,"dblclick",b.createDelegate(this,this._caret_dblclick_handler)),b.addEvent(this.canvas,"mouseup",b.createDelegate(this,this._focus_handler)),b.addEvent(this.caret,"blur",b.createDelegate(this,this._blur_handler)),b.addEvent(this.caret,"keydown",b.createDelegate(this,this._keydown_handler)),b.addEvent(this.caret,"input",b.createDelegate(this,this._input_handler)),b.addEvent(this.right_scroll,"scroll",b.createDelegate(this,this._right_scroll_handler)),b.addEvent(this.bottom_scroll,"scroll",b.createDelegate(this,this._bottom_scroll_handler)),b.addEvent(this.caret,"copy",b.createDelegate(this,this._copy_handler)),b.addEvent(this.caret,"cut",b.createDelegate(this,this._cut_handler)),b.addEvent(this.caret,"paste",b.createDelegate(this,this._paste_handler)),b.addWheelEvent(this.canvas,b.createDelegate(this,this._wheel_handler))}}),a.Lexer.ACT_TYPE={NO_ACTION:-1,UNKNOW_CHAR:-2,UNMATCH_CHAR:-3},a.Lexer.Help={_str_to_arr:function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=b[c],f=d.charCodeAt(0),g=d.length,h=0;for(var i=1;i<g;i++)if(f===0)e[i-1]=d.charCodeAt(i)-1;else{var j=d.charCodeAt(i)-1,k=d.charCodeAt(i+1)-1;for(var l=0;l<j;l++)e[h]=k,h++;i++}}}},a._LexerManager=function(a){this.DELAY_LEN=1e5,this.editor=a,this.lexer_hash={},this.lexer=null,this.busy_work=null,this.wait=!1,this.check_line=[]},a._LexerManager.prototype={resetLexer:function(){var b=this.editor.lang_name;this.lexer_hash[b]==null&&(this.lexer_hash[b]=new a.Lexer[b](this.editor)),this.lexer=this.lexer_hash[b]},_delayLex:function(a){var b=this;a!=null&&(this.check_line=this.check_line.concat(a)),this.busy_work===null?this.busy_work=setTimeout(function(){var a=(new Date).getTime();b.lexer.lex();for(var c=0;c<b.check_line.length;c++)b.editor.cur_doc.line_info[b.check_line[c]].check_width=!0;b.check_line.length=0,b.editor.render.paint(),b.busy_work=null,b.wait&&(b.wait=!1,setTimeout(function(){b.lex()},0))},0):this.wait=!0},lex:function(a){this.editor.cur_doc.text_array.length<this.DELAY_LEN?this.lexer.lex():this._delayLex(a)}},a.Clipboard=function(){this.text=""},a.Clipboard.prototype={getText:function(a){var c=window.clipboardData;return a&&a.clipboardData&&(c=a.clipboardData),c?c.getData("text"):this.text},setText:function(a,c){if(c==null||c=="")return;var d=window.clipboardData;a&&a.clipboardData&&(d=a.clipboardData),d?d.setData("text",c):this.text=c,b.dprint("set clip: %s",c)}},a.Clipboard.__instance__=null,a.Clipboard.getInstance=function(){return a.Clipboard.__instance__===null&&(a.Clipboard.__instance__=new a.Clipboard),a.Clipboard.__instance__},function(a){var b=156,c=157,d=158;a.visualbasic=function(b){this.editor=b,this.src=null,this.theme=b.theme,this.end=0,this.idx=0,this.chr=-1,this.i_s=156,this.yydefault="default",this.yystyle=null,this.TABLE={_base:window.Int32Array?new Int32Array(159):new Array(159),_default:window.Int32Array?new Int32Array(159):new Array(159),_check:window.Int32Array?new Int32Array(3781):new Array(3781),_next:window.Int32Array?new Int32Array(3781):new Array(3781),_action:window.Int32Array?new Int32Array(159):new Array(159),_eqc:window.Int32Array?new Int32Array(256):new Array(256)},a.Help._str_to_arr(["\0%@[v¬ÇâýĘĳŎũƄƟƺǕǰȋȦɁɜɷʒʭˈˣ˾̴̙͏ͪ΅ΠλϖϱЌЧтѝѸғҮӉӤӿԚԵՐիֆּ֡חײ؍بكٞٹڔگۊۥ܀ܛܶݑݬއޢ޽ߘ߳ࠎࠩࡄ࡟ࡺ࢕ࢰࣦ࣋ँजष॒७ঈণা৙৴ਏਪ੅੠੻ખ઱ૌ૧ଂଝସ୓୮உதி௚௵ఐఫెౡ౼ಗಲ್೨ഃഞഹൔ൯ඊඥවෛ෶ฑฬ่๲ຜ","\f\0	\n	\0\0<\0G\0\0","\0\n	\0\0\0\0\0\0\0\0\0\0\0\0\0\0 \0 !\0!\"\0\"#\0#$\0$%\0%&\0&'\0'(\0()\0)*\0*+\0+,\0,-\0-.\0./\0/0\001\012\023\034\045\056\067\078\089\09:\0:;\0;<\0<=\0=>\0>?\0?@\0@A\0AB\0BC\0CD\0DE\0EF\0FG\0GH\0HI\0IJ\0JK\0KL\0LM\0MN\0NO\0OP\0PQ\0QR\0RS\0ST\0TU\0UW\0WX\0XY\0YZ\0Z[\0[\\\0\\]\0]^\0^_\0_`\0`a\0ab\0bc\0cd\0de\0ef\0fg\0gh\0hi\0ij\0jk\0kl\0lm\0mn\0no\0op\0pq\0qr\0rs\0st\0tu\0uv\0vw\0wx\0xy\0yz\0z{\0{|\0|}\0}~\0~\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0*\0\f+","\0	\r\0\0\0V\0VV\0V|VrV\0V\0VnV\0V\0=V\0VV\0VV\0V\0VV\0VV\0VVV\0VV\0VV\0VV\0VV\0VV\0VV\09VV\0\bVV\0BVV\0\bVV\0V\0VV\0VV\0VEV}V[V\0\bVV\0VV\0V\0VTVV\0VNVV\0\nVV\0\nVV~V\0AVoDV\0V\0\bVV\0V\rV{V\0V\0yV\0\fVV\0VvV\0Vu\bV%V\0	VxV\0	VwV\0VsVqV\0VV\0VV\0VkV\0	VlV\0VmV\0Vj\fV\0VgV\0VeV\0VbV\0VdV\0`\fVQ\rV\0V	V\0VVV\0VWVV\0^V\0V]V\0V^V\0V\\V\0\nVYV\0VXV\0VUV\0VV\0VV\0VV\0	VSV\0VRV\0VPV\0VV\0\nVLMV\0VKV\0VJV\0VIV\0VHV\0HV\0V,\nV\0VZ\rV\nV\0V\nV\0V\nV\0V_GV\0VFV\0VCV\0V;V\0VV\0V$\fV\0V\fV\0\rV4\rV\0\rV\rV\0V@V\0V?V\0\nV?oV\0V<V\0\fVV\0\fVV\0\fVV\0V5V\0V-V\0V$V\0V8V\0\nV\"V\0VcVV\0\nVV\0V>VZV\0V1V\0V0V\0	V'V\0	VV\0	VV\0V/V\0V*V\0V(VfV\0V(V\0V+V\0\bVV\0V7VzhV\0VV#V\0V)VV\0VV\0VV\0V!V&	V\0VV\0VVVpV2V\0V \bVV\0VV\0VV\0VV\0VVa	V\0V\0VV\0V*\nV\fV.t63ViOV:V\0\b)","\f	\r\0\n\0\n\0","))$*)'()\")#) !))&)\f\n)\r\b	)%)"],[this.TABLE._base,this.TABLE._default,this.TABLE._check,this.TABLE._next,this.TABLE._action,this.TABLE._eqc])},a.visualbasic.prototype={read_ch:function(){return this.idx>=this.end?this.chr=-1:(this.chr=this.src[this.idx++].charCodeAt(0),this.chr>=65&&this.chr<=90&&(this.chr+=32),this.chr)},do_lex:function(){var e=!0;this.idx=0;while(e){var f=0,g=this.i_s,h=a.ACT_TYPE.NO_ACTION,i=this.idx,j=a.ACT_TYPE.NO_ACTION,k=0;for(;;){if(this.read_ch()<0){j>=0?(h=j,f=k,this.idx=i+k):i<this.end&&(h=a.ACT_TYPE.UNMATCH_CHAR,this.idx=i+1),i>=this.end&&(e=!1);break}f++;var l=this.TABLE._eqc[this.chr];if(l===undefined){j>=0?(h=j,f=k,this.idx=i+k):h=a.ACT_TYPE.UNKNOW_CHAR;break}var m,n=-1,o=g;while(o>=0){m=this.TABLE._base[o]+l;if(this.TABLE._check[m]===o){n=this.TABLE._next[m];break}o=this.TABLE._default[o]}if(n<0){j>=0?(h=j,f=k,this.idx=i+k):(h=a.ACT_TYPE.UNMATCH_CHAR,this.idx=i+1);break}g=n,h=this.TABLE._action[n],h>=0&&(j=h,k=f)}switch(h){case 1:this.yystyle="keyword";break;case 11:this.yystyle="string",this.yydefault="string",this.yygoto(d);break;case 8:this.yystyle="comment",this.yydefault="comment",this.yygoto(c);break;case 0:this.yystyle="value";break;case 2:this.yystyle="id";break;case 3:this.yystyle="operator";break;case 15:this.yystyle="default";break;case 10:this.yystyle="comment",this.yydefault="default",this.yygoto(b);break;case 9:this.yystyle="comment";break;case 13:this.yystyle="string";break;case 12:this.yystyle="string";break;case 14:this.yystyle="string",this.yydefault="defult",this.yygoto(b);break;case a.ACT_TYPE.UNKNOW_CHAR:case a.ACT_TYPE.UNMATCH_CHAR:default:this.yystyle=this.yydefault}this.editor.cur_doc.setRangeStyle(i,f,this.yystyle)}},yygoto:function(a){this.i_s=a},lex:function(){this.src=this.editor.cur_doc.text_array,this.end=this.src.length,this.i_s=156,this.do_lex()}}}(a.Lexer),function(a){var b=156,c=157,d=158,e=159,f=160,g=161;a.javascript=function(b){this.editor=b,this.src=null,this.theme=b.theme,this.end=0,this.idx=0,this.chr=-1,this.i_s=156,this.yydefault="default",this.yystyle=null,this.TABLE={_base:window.Int32Array?new Int32Array(162):new Array(162),_default:window.Int32Array?new Int32Array(162):new Array(162),_check:window.Int32Array?new Int32Array(4841):new Array(4841),_next:window.Int32Array?new Int32Array(4841):new Array(4841),_action:window.Int32Array?new Int32Array(162):new Array(162),_eqc:window.Int32Array?new Int32Array(256):new Array(256)},a.Help._str_to_arr(["\0	\b?hºãČĵŞƇưǙȂȫɔɽʦˏ˸̡͊ͳΜυϮЗрѩҒһӤԍԶ՟ֈֱך؃جٕپڧې۹ܢ݋ݴޝ߆߯࠘ࡁࡪ࢓ࢼࣥऎषॠউল৛਄ਭ੖੿ન૑ૺଣୌ୵ஞே௰ఙూ౫ಔಽ೦ഏസൡඊඳොฅฮ๗຀ຩ໒໻༤ཌྷྲྀྟ࿈࿱ယ၃ၻႳძᄣᅛᆔᇍሆሿቸ኱","#\0#\0'\0*\0-\0-,\0-7\0-\0\0\0","'\0+\0\0#	\0*\0&\0'\0'& $%\0!\"*\0*,\0,\0,-\0-\0-/\0/\0/1\01\012\02\023\03\034\04\045\05\056\06\067\07\078\08\089\09\09:\0:\0:;\0;\0;<\0<\0<=\0=\0=>\0>\0>?\0?\0?@\0@\0@A\0A\0AB\0B\0BC\0C\0CD\0D\0DE\0E\0EF\0F\0FG\0G\0GH\0H\0HI\0I\0IJ\0J\0JK\0K\0KL\0L\0LM\0M\0MN\0N\0NO\0O\0OP\0P\0PQ\0Q\0QR\0R\0RS\0S\0ST\0T\0TU\0U\0UV\0V\0VW\0W\0WX\0X\0XY\0Y\0YZ\0Z\0Z[\0[\0[]\0]\0]^\0^\0^_\0_\0_`\0`\0`a\0a\0ab\0b\0bc\0c\0cd\0d\0de\0e\0ef\0f\0fg\0g\0gh\0h\0hi\0i\0ij\0j\0jk\0k\0kl\0l\0lm\0m\0mn\0n\0no\0o\0op\0p\0pq\0q\0qr\0r\0rs\0s\0st\0t\0tu\0u\0uv\0v\0vw\0w\0wx\0x\0xy\0y\0yz\0z\0z{\0{\0{|\0|\0|}\0}\0}~\0~\0~\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0999999:::: :¡:¢","	'\0\0\0	\0*)\0#\0'\0'\n\f\0*\0*\\\0\\\0\n\\\\\0\\\0\\\0\f\\]\\\0\\\0\\\\\0\\\0\\\\\0\\\0\\\0\\\0\\\\\0\\\0\\\r\\B\b\\\0\\\0\\\\\0\\\0\\\\\0\\\0\\\\\0\\\0\\\\\0\\\0\\s\\\0\\\0\b\\\\\0\\\0\\\\\0\\\0	\\\\\0\\\0\\\\\0\\\0\\\0\\\0\n\\\r\\\0\\\0	\\}\\\0\\\0\\\f\\\0\\\0\\\f\\\0\\\0\\{\\\0\\\0	\\z\\\0\\\0\n\\y\r\\\0\\\0\r\\\n\\\0\\\0v\\\0\\\0	\\u\\\0\\\0\r\\t\n\\\0\\\0	\\r\\\0\\\0\f\\p\\\0\\\0\\o\f\\\0\\\0\\m\\\0\\\0\\l\\\0\\\0\\k\\\0\\\0\\j\\\0\\\0\\i\\\0\\\0\\h\\\0\\\0	\\e\\\0\\\0\\d\\\0\\\0\\\0\\b\r\\\0\\\0\\a\\\0\\\0	\\g\b\\\0_\\\0\\\0\\\0\f\\g\\\0\\\0\\\\\0\\[\\\0\\\0	\\Y\\\0\\\0\\\0\b\\X\\Z\\g\\\0\\W\\\0\\\0\\\0\\V\\\0\\\0\\-\f\\\0U\\\0\\\0\\T\f\\\0\\\0\\\0\\-\\\0\\\\\0\\\0\\S\\\0\\\0\\Q\\\0\\\0\\P\\\0\\\0\\-\\\0\\\0\\,\\\0\\\0\\N\\\0\\\0\\0\\\0\\\0\\M	\\\0\\\0L\\\0\\\0\\0\b\\\0\\\0\\K\\|\b\\\0\\\0\n\\J\r\\\0\\\0\\0	\\\0\\\0\\-	\\\0\\\0\f\\H\\\0\\\0\\G\f\\\0\\\0\r\\/\n\\\0\\\0	\\F\\\0\\\0\\D\\\0\\\0C\\\0\\\0\\A\f\\\0\\\0\\9\f\\\0\\\0\\@\\\0\\\0\\?\\\0\\\0\\=\\\0\\\0\\>\\\0\\\0	\\4\\\0\\\0	\\0\\\0\\\0\\I\\<\\\n\\\0\\\0\\;\\\\\0\\\0\\;\\E\n\\\0\\\0\b\\1\\\0\\\0\b\\.\\\0\\\0\\8\\\0\\\0\\3\\\0\\\0\\6\\\0\\\0\\2\\\0\\\0\\0\\0\\\0\\\0\\1\\\0\\\0\\0\\\0\\\0\\-\\\0\\\0\\0\\\0\\\0\\-\\\0\\\0-\\\0\\1&*	&	&\f	&391\b\b*(+5~x\\n:w\\q\\O\\7R\\f\b`\\c^*\\*\\$%\b1	1\r 	\r6!6\"","\r\b\f\n\0\f\0c\0	\0	\0","66386*5/961-62&$#'(6.+,6%**\"**!\b*6764*6\n\b	)\r *\f*606"],[this.TABLE._base,this.TABLE._default,this.TABLE._check,this.TABLE._next,this.TABLE._action,this.TABLE._eqc])},a.javascript.prototype={read_ch:function(){return this.idx>=this.end?this.chr=-1:this.chr=this.src[this.idx++].charCodeAt(0)},do_lex:function(){var h=!0;this.idx=0;while(h){var i=0,j=this.i_s,k=a.ACT_TYPE.NO_ACTION,l=this.idx,m=a.ACT_TYPE.NO_ACTION,n=0;for(;;){if(this.read_ch()<0){m>=0?(k=m,i=n,this.idx=l+n):l<this.end&&(k=a.ACT_TYPE.UNMATCH_CHAR,this.idx=l+1),l>=this.end&&(h=!1);break}i++;var o=this.TABLE._eqc[this.chr];if(o===undefined){m>=0?(k=m,i=n,this.idx=l+n):k=a.ACT_TYPE.UNKNOW_CHAR;break}var p,q=-1,r=j;while(r>=0){p=this.TABLE._base[r]+o;if(this.TABLE._check[p]===r){q=this.TABLE._next[p];break}r=this.TABLE._default[r]}if(q<0){m>=0?(k=m,i=n,this.idx=l+n):(k=a.ACT_TYPE.UNMATCH_CHAR,this.idx=l+1);break}j=q,k=this.TABLE._action[q],k>=0&&(m=k,n=i)}switch(k){case 3:this.yystyle="object";break;case 2:this.yystyle="param";break;case 12:this.yystyle="doccomment",this.yydefault="doccomment",this.yygoto(e);break;case 15:this.yystyle="regexp";break;case 6:this.yystyle="comment",this.yydefault="comment",this.yygoto(c);break;case 9:this.yystyle="comment",this.yydefault="comment",this.yygoto(d);break;case 1:this.yystyle="keyword";break;case 20:this.yystyle="string",this.yydefault="string",this.yygoto(g);break;case 16:this.yystyle="string",this.yydefault="string",this.yygoto(f);break;case 4:this.yystyle="id";break;case 5:this.yystyle="operator";break;case 0:this.yystyle="value";break;case 24:this.yystyle="default";break;case 7:this.yystyle="comment",this.yydefault="default",this.yygoto(b);break;case 8:this.yystyle="comment";break;case 10:this.yystyle="comment",this.yydefault="default",this.yygoto(b);break;case 11:this.yystyle="comment";break;case 13:this.yystyle="doccomment",this.yydefault="default",this.yygoto(b);break;case 14:this.yystyle="doccomment";break;case 18:this.yystyle="string";break;case 17:this.yystyle="string";break;case 19:this.yystyle="string",this.yydefault="default",this.yygoto(b);break;case 22:this.yystyle="string";break;case 21:this.yystyle="string";break;case 23:this.yystyle="string",this.yydefault="default",this.yygoto(b);break;case a.ACT_TYPE.UNKNOW_CHAR:case a.ACT_TYPE.UNMATCH_CHAR:default:this.yystyle=this.yydefault}this.editor.cur_doc.setRangeStyle(l,i,this.yystyle)}},yygoto:function(a){this.i_s=a},lex:function(){this.src=this.editor.cur_doc.text_array,this.end=this.src.length,this.i_s=156,this.do_lex()}}}(a.Lexer),a.Theme.aptana3={global:{font:"16px consolas",background:"black",color:"white"},caret:{color:"rgba(255,255,255,0.8)"},selection:{background:"rgba(160,160,160,0.5)"},current_line:{background:"rgba(210,210,210,0.1)"},styles:{general:{},javascript:{keyword:{color:"#F9EE98"},value:{color:"#B4431F"},comment:{color:"#5f5a60",italic:!0},operator:{color:"#CDA869"},string:{color:"#8f9d6a"},regexp:{color:"#E9C062",bold:!0},id:{color:"white"},object:{color:"#9E89A0"},param:{color:"#7587A6",italic:!0}},visualbasic:{keyword:{color:"#F9EE98"},value:{color:"#B4431F"},comment:{color:"#5f5a60",italic:!0},operator:{color:"#CDA869"},string:{color:"#8f9d6a"},id:{color:"white"}}}},a.Theme.notepadplusplus={global:{font:"16px Courier New",background:"#F2F4FF",color:"black"},caret:{color:"rgba(128,0,255,1)"},selection:{background:"rgba(192,192,192,1)"},current_line:{background:"rgba(232,232,255,1)"},styles:{general:{},javascript:{keyword:{color:"#000080",italic:!0,bold:!0},value:{color:"#FF0000"},comment:{color:"#008000"},doccomment:{color:"#008080"},operator:{color:"black"},string:{color:"#808080"},regexp:{color:"#8000FF"},id:{color:"black"},object:{color:"#275391"},param:{color:"#275391",italic:!0}},visualbasic:{keyword:{color:"#0000FF"},value:{color:"#ff0000"},comment:{color:"#008000"},operator:{color:"#000000"},string:{color:"#808080"},id:{color:"black"}}}}}(Daisy,Daisy.$)